{"version":3,"file":"webgpu-memory.min.js","sources":["../../src/capabilities-info.js","../../src/webgpu-memory.js"],"sourcesContent":["/* eslint-disable no-sparse-arrays */\n\n/*\nThis file was copied and modified from the WebGPU Conformance Test Suite\nhttps://github.com/gpuweb/cts/blob/main/src/webgpu/capability_info.ts\n\nNote: Changes include adding bytesPerBlock to depth24plus, depth24plus-stencil8\nand depth32-stencil8\n\nCopyright 2019 WebGPU CTS Contributors\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n   1. Redistributions of source code must retain the above copyright notice,\n      this list of conditions and the following disclaimer.\n\n   2. Redistributions in binary form must reproduce the above copyright notice,\n      this list of conditions and the following disclaimer in the documentation\n      and/or other materials provided with the distribution.\n\n   3. Neither the name of the copyright holder nor the names of its\n      contributors may be used to endorse or promote products derived from this\n      software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nfunction makeTable(members, defaults, table) {\n  const result = {};\n  for (const [k, v] of Object.entries(table)) {\n    const item = {};\n    for (let i = 0; i < members.length; ++i) {\n      item[members[i]] = v[i] ?? defaults[i];\n    }\n    result[k] = item;\n  }\n  return result;\n}\n\nfunction keysOf(o) {\n  return [...Object.keys(o)];\n}\n\n\n/**\n * Defaults applied to all texture format tables automatically. Used only inside\n * `formatTableWithDefaults`. This ensures keys are never missing, always explicitly `undefined`.\n *\n * All top-level keys must be defined here, or they won't be exposed at all.\n * Documentation is also written here; this makes it propagate through to the end types.\n */\nconst kFormatUniversalDefaults = {\n  /** Texel block width. */\n  blockWidth: undefined,\n  /** Texel block height. */\n  blockHeight: undefined,\n  color: undefined,\n  depth: undefined,\n  stencil: undefined,\n  /**\n   * Info when this format can be used as a color render target. The format may require a feature\n   * to actually be used as a render target. Eg: rg11b10ufloat which requires rg11b10ufloat-renderable\n   * Call {@link isTextureFormatPossiblyUsableAsColorRenderAttachment} before having a device\n   * Call {@link isTextureFormatColorRenderable}(device, format) to find out for a particular device.\n   * Use {@link kPossibleColorRenderableTextureFormats} for params.\n   */\n  colorRender: undefined,\n  /**\n   * Whether the format can possibly be used as a multisample texture. The format may require a\n   * feature to actually multisampled. Eg: rg11b10ufloat which requires rg11b10ufloat-renderable\n   * Call {@link isTextureFormatPossiblyMultisampled} before having a device\n   * Call {@link isTextureFormatMultisampled}(device, format) to find out for a particular device.\n   * Use {@link kPossibleMultisampledTextureFormats} for params.\n   */\n  multisample: undefined,\n  /** Optional feature required to use this format, or `undefined` if none. */\n  feature: undefined,\n  /** The base format for srgb formats. Specified on both srgb and equivalent non-srgb formats. */\n  baseFormat: undefined,\n\n  /** @deprecated Use `.color.bytes`, `.depth.bytes`, or `.stencil.bytes`. */\n  bytesPerBlock: undefined,\n\n  // IMPORTANT:\n  // Add new top-level keys both here and in TextureFormatInfo_TypeCheck.\n} ;\n/**\n * Takes `table` and applies `defaults` to every row, i.e. for each row,\n * `{ ... kUniversalDefaults, ...defaults, ...row }`.\n * This only operates at the first level; it doesn't support defaults in nested objects.\n */\nfunction formatTableWithDefaults({\n  defaults,\n  table,\n}) {\n  return Object.fromEntries(\n    Object.entries(table).map(([k, row]) => [\n      k,\n      { ...kFormatUniversalDefaults, ...defaults, ...row },\n    ])\n  )\n}\n\n/** \"plain color formats\", plus rgb9e5ufloat. */\nconst kRegularTextureFormatInfo = formatTableWithDefaults({\n  defaults: { blockWidth: 1, blockHeight: 1 },\n  table: {\n    // plain, 8 bits per component\n\n    r8unorm: {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 1,\n      },\n      colorRender: { blend: true, resolve: true, byteCost: 1, alignment: 1 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    r8snorm: {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 1,\n      },\n      multisample: false,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    r8uint: {\n      color: {\n        type: 'uint',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 1,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 1, alignment: 1 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    r8sint: {\n      color: {\n        type: 'sint',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 1,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 1, alignment: 1 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    rg8unorm: {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 2,\n      },\n      colorRender: { blend: true, resolve: true, byteCost: 2, alignment: 1 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rg8snorm: {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 2,\n      },\n      multisample: false,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rg8uint: {\n      color: {\n        type: 'uint',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 2,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 2, alignment: 1 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rg8sint: {\n      color: {\n        type: 'sint',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 2,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 2, alignment: 1 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    rgba8unorm: {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      colorRender: { blend: true, resolve: true, byteCost: 8, alignment: 1 },\n      multisample: true,\n      baseFormat: 'rgba8unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'rgba8unorm-srgb': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      colorRender: { blend: true, resolve: true, byteCost: 8, alignment: 1 },\n      multisample: true,\n      baseFormat: 'rgba8unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rgba8snorm: {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      multisample: false,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rgba8uint: {\n      color: {\n        type: 'uint',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 4, alignment: 1 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rgba8sint: {\n      color: {\n        type: 'sint',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 4, alignment: 1 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    bgra8unorm: {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      colorRender: { blend: true, resolve: true, byteCost: 8, alignment: 1 },\n      multisample: true,\n      baseFormat: 'bgra8unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'bgra8unorm-srgb': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      colorRender: { blend: true, resolve: true, byteCost: 8, alignment: 1 },\n      multisample: true,\n      baseFormat: 'bgra8unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    // plain, 16 bits per component\n\n    r16uint: {\n      color: {\n        type: 'uint',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 2,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 2, alignment: 2 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    r16sint: {\n      color: {\n        type: 'sint',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 2,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 2, alignment: 2 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    r16float: {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 2,\n      },\n      colorRender: { blend: true, resolve: true, byteCost: 2, alignment: 2 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    rg16uint: {\n      color: {\n        type: 'uint',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 4, alignment: 2 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rg16sint: {\n      color: {\n        type: 'sint',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 4, alignment: 2 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rg16float: {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      colorRender: { blend: true, resolve: true, byteCost: 4, alignment: 2 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    rgba16uint: {\n      color: {\n        type: 'uint',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 8, alignment: 2 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rgba16sint: {\n      color: {\n        type: 'sint',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 8, alignment: 2 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rgba16float: {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      colorRender: { blend: true, resolve: true, byteCost: 8, alignment: 2 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    // plain, 32 bits per component\n\n    r32uint: {\n      color: {\n        type: 'uint',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: true,\n        bytes: 4,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 4, alignment: 4 },\n      multisample: false,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    r32sint: {\n      color: {\n        type: 'sint',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: true,\n        bytes: 4,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 4, alignment: 4 },\n      multisample: false,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    r32float: {\n      color: {\n        type: 'unfilterable-float',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: true,\n        bytes: 4,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 4, alignment: 4 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    rg32uint: {\n      color: {\n        type: 'uint',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 8, alignment: 4 },\n      multisample: false,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rg32sint: {\n      color: {\n        type: 'sint',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 8, alignment: 4 },\n      multisample: false,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rg32float: {\n      color: {\n        type: 'unfilterable-float',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 8, alignment: 4 },\n      multisample: false,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    rgba32uint: {\n      color: {\n        type: 'uint',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 16, alignment: 4 },\n      multisample: false,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rgba32sint: {\n      color: {\n        type: 'sint',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 16, alignment: 4 },\n      multisample: false,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rgba32float: {\n      color: {\n        type: 'unfilterable-float',\n        copySrc: true,\n        copyDst: true,\n        storage: true,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 16, alignment: 4 },\n      multisample: false,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    // plain, mixed component width, 32 bits per texel\n\n    rgb10a2uint: {\n      color: {\n        type: 'uint',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      colorRender: { blend: false, resolve: false, byteCost: 8, alignment: 4 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rgb10a2unorm: {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      colorRender: { blend: true, resolve: true, byteCost: 8, alignment: 4 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    rg11b10ufloat: {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      colorRender: { blend: true, resolve: true, byteCost: 8, alignment: 4 },\n      multisample: true,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    // packed\n\n    rgb9e5ufloat: {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      multisample: false,\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n  },\n} );\n\n// MAINTENANCE_TODO: Distinguishing \"sized\" and \"unsized\" depth stencil formats doesn't make sense\n// because one aspect can be sized and one can be unsized. This should be cleaned up, but is kept\n// this way during a migration phase.\nconst kSizedDepthStencilFormatInfo = formatTableWithDefaults({\n  defaults: { blockWidth: 1, blockHeight: 1, multisample: true },\n  table: {\n    stencil8: {\n      stencil: {\n        type: 'uint',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 1,\n      },\n      bytesPerBlock: 1,\n    },\n    depth16unorm: {\n      depth: {\n        type: 'depth',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 2,\n      },\n      bytesPerBlock: 2,\n    },\n    depth32float: {\n      depth: {\n        type: 'depth',\n        copySrc: true,\n        copyDst: false,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      bytesPerBlock: 4,\n    },\n  },\n} );\nconst kUnsizedDepthStencilFormatInfo = formatTableWithDefaults({\n  defaults: { blockWidth: 1, blockHeight: 1, multisample: true },\n  table: {\n    depth24plus: {\n      depth: {\n        type: 'depth',\n        copySrc: false,\n        copyDst: false,\n        storage: false,\n        readWriteStorage: false,\n        bytes: undefined,\n      },\n      bytesPerBlock: 4,\n    },\n    'depth24plus-stencil8': {\n      depth: {\n        type: 'depth',\n        copySrc: false,\n        copyDst: false,\n        storage: false,\n        readWriteStorage: false,\n        bytes: undefined,\n      },\n      stencil: {\n        type: 'uint',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 1,\n      },\n      bytesPerBlock: 4,\n    },\n    'depth32float-stencil8': {\n      depth: {\n        type: 'depth',\n        copySrc: true,\n        copyDst: false,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 4,\n      },\n      stencil: {\n        type: 'uint',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 1,\n      },\n      feature: 'depth32float-stencil8',\n      bytesPerBlock: 5,\n    },\n  },\n} );\n\nconst kBCTextureFormatInfo = formatTableWithDefaults({\n  defaults: {\n    blockWidth: 4,\n    blockHeight: 4,\n    multisample: false,\n    feature: 'texture-compression-bc',\n  },\n  table: {\n    'bc1-rgba-unorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      baseFormat: 'bc1-rgba-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'bc1-rgba-unorm-srgb': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      baseFormat: 'bc1-rgba-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'bc2-rgba-unorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'bc2-rgba-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'bc2-rgba-unorm-srgb': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'bc2-rgba-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'bc3-rgba-unorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'bc3-rgba-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'bc3-rgba-unorm-srgb': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'bc3-rgba-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'bc4-r-unorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'bc4-r-snorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'bc5-rg-unorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'bc5-rg-snorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'bc6h-rgb-ufloat': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'bc6h-rgb-float': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'bc7-rgba-unorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'bc7-rgba-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'bc7-rgba-unorm-srgb': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'bc7-rgba-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n  },\n} );\n\nconst kETC2TextureFormatInfo = formatTableWithDefaults({\n  defaults: {\n    blockWidth: 4,\n    blockHeight: 4,\n    multisample: false,\n    feature: 'texture-compression-etc2',\n  },\n  table: {\n    'etc2-rgb8unorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      baseFormat: 'etc2-rgb8unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'etc2-rgb8unorm-srgb': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      baseFormat: 'etc2-rgb8unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'etc2-rgb8a1unorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      baseFormat: 'etc2-rgb8a1unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'etc2-rgb8a1unorm-srgb': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      baseFormat: 'etc2-rgb8a1unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'etc2-rgba8unorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'etc2-rgba8unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'etc2-rgba8unorm-srgb': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'etc2-rgba8unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'eac-r11unorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'eac-r11snorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 8,\n      },\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'eac-rg11unorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'eac-rg11snorm': {\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n  },\n} );\n\nconst kASTCTextureFormatInfo = formatTableWithDefaults({\n  defaults: {\n    multisample: false,\n    feature: 'texture-compression-astc',\n  },\n  table: {\n    'astc-4x4-unorm': {\n      blockWidth: 4,\n      blockHeight: 4,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-4x4-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'astc-4x4-unorm-srgb': {\n      blockWidth: 4,\n      blockHeight: 4,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-4x4-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'astc-5x4-unorm': {\n      blockWidth: 5,\n      blockHeight: 4,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-5x4-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'astc-5x4-unorm-srgb': {\n      blockWidth: 5,\n      blockHeight: 4,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-5x4-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'astc-5x5-unorm': {\n      blockWidth: 5,\n      blockHeight: 5,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-5x5-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'astc-5x5-unorm-srgb': {\n      blockWidth: 5,\n      blockHeight: 5,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-5x5-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'astc-6x5-unorm': {\n      blockWidth: 6,\n      blockHeight: 5,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-6x5-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'astc-6x5-unorm-srgb': {\n      blockWidth: 6,\n      blockHeight: 5,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-6x5-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'astc-6x6-unorm': {\n      blockWidth: 6,\n      blockHeight: 6,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-6x6-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'astc-6x6-unorm-srgb': {\n      blockWidth: 6,\n      blockHeight: 6,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-6x6-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'astc-8x5-unorm': {\n      blockWidth: 8,\n      blockHeight: 5,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-8x5-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'astc-8x5-unorm-srgb': {\n      blockWidth: 8,\n      blockHeight: 5,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-8x5-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'astc-8x6-unorm': {\n      blockWidth: 8,\n      blockHeight: 6,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-8x6-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'astc-8x6-unorm-srgb': {\n      blockWidth: 8,\n      blockHeight: 6,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-8x6-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'astc-8x8-unorm': {\n      blockWidth: 8,\n      blockHeight: 8,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-8x8-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'astc-8x8-unorm-srgb': {\n      blockWidth: 8,\n      blockHeight: 8,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-8x8-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'astc-10x5-unorm': {\n      blockWidth: 10,\n      blockHeight: 5,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-10x5-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'astc-10x5-unorm-srgb': {\n      blockWidth: 10,\n      blockHeight: 5,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-10x5-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'astc-10x6-unorm': {\n      blockWidth: 10,\n      blockHeight: 6,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-10x6-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'astc-10x6-unorm-srgb': {\n      blockWidth: 10,\n      blockHeight: 6,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-10x6-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'astc-10x8-unorm': {\n      blockWidth: 10,\n      blockHeight: 8,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-10x8-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'astc-10x8-unorm-srgb': {\n      blockWidth: 10,\n      blockHeight: 8,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-10x8-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'astc-10x10-unorm': {\n      blockWidth: 10,\n      blockHeight: 10,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-10x10-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'astc-10x10-unorm-srgb': {\n      blockWidth: 10,\n      blockHeight: 10,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-10x10-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'astc-12x10-unorm': {\n      blockWidth: 12,\n      blockHeight: 10,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-12x10-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'astc-12x10-unorm-srgb': {\n      blockWidth: 12,\n      blockHeight: 10,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-12x10-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n\n    'astc-12x12-unorm': {\n      blockWidth: 12,\n      blockHeight: 12,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-12x12-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n    'astc-12x12-unorm-srgb': {\n      blockWidth: 12,\n      blockHeight: 12,\n      color: {\n        type: 'float',\n        copySrc: true,\n        copyDst: true,\n        storage: false,\n        readWriteStorage: false,\n        bytes: 16,\n      },\n      baseFormat: 'astc-12x12-unorm',\n      /*prettier-ignore*/ get bytesPerBlock() { return this.color.bytes; },\n    },\n  },\n} );\n\n// Definitions for use locally.\n\n// MAINTENANCE_TODO: Consider generating the exports below programmatically by filtering the big list, instead\n// of using these local constants? Requires some type magic though.\n/* prettier-ignore */ const   kCompressedTextureFormatInfo = { ...kBCTextureFormatInfo, ...kETC2TextureFormatInfo, ...kASTCTextureFormatInfo } ;\n/* prettier-ignore */ const        kColorTextureFormatInfo = { ...kRegularTextureFormatInfo, ...kCompressedTextureFormatInfo } ;\n/* prettier-ignore */ const    kEncodableTextureFormatInfo = { ...kRegularTextureFormatInfo, ...kSizedDepthStencilFormatInfo } ;\n/* prettier-ignore */ const        kSizedTextureFormatInfo = { ...kRegularTextureFormatInfo, ...kSizedDepthStencilFormatInfo, ...kCompressedTextureFormatInfo } ;\n/* prettier-ignore */ const        kDepthStencilFormatInfo = { ...kSizedDepthStencilFormatInfo, ...kUnsizedDepthStencilFormatInfo } ;\n/* prettier-ignore */ const kUncompressedTextureFormatInfo = { ...kRegularTextureFormatInfo, ...kSizedDepthStencilFormatInfo, ...kUnsizedDepthStencilFormatInfo } ;\n/* prettier-ignore */ const          kAllTextureFormatInfo = { ...kUncompressedTextureFormatInfo, ...kCompressedTextureFormatInfo } ;\n\n/* prettier-ignore */ export const        kRegularTextureFormats = keysOf(     kRegularTextureFormatInfo);\n/* prettier-ignore */ export const     kSizedDepthStencilFormats = keysOf(  kSizedDepthStencilFormatInfo);\n/* prettier-ignore */ export const   kUnsizedDepthStencilFormats = keysOf(kUnsizedDepthStencilFormatInfo);\n/* prettier-ignore */ export const     kCompressedTextureFormats = keysOf(  kCompressedTextureFormatInfo);\n/* prettier-ignore */ export const   kBCCompressedTextureFormats = keysOf(          kBCTextureFormatInfo);\n/* prettier-ignore */ export const kASTCCompressedTextureFormats = keysOf(        kASTCTextureFormatInfo);\n\n/* prettier-ignore */ export const        kColorTextureFormats = keysOf(       kColorTextureFormatInfo);\n/* prettier-ignore */ export const    kEncodableTextureFormats = keysOf(   kEncodableTextureFormatInfo);\n/* prettier-ignore */ export const        kSizedTextureFormats = keysOf(       kSizedTextureFormatInfo);\n/* prettier-ignore */ export const        kDepthStencilFormats = keysOf(       kDepthStencilFormatInfo);\n/* prettier-ignore */ export const kUncompressedTextureFormats = keysOf(kUncompressedTextureFormatInfo);\n/* prettier-ignore */ export const          kAllTextureFormats = keysOf(         kAllTextureFormatInfo);\n\n\n/**\n * DO NOT EXPORT THIS - functions that need info from this table should use the appropriate\n * method for their needs.\n *\n * For a list of textures formats for test parameters there are:\n *\n * Lists of formats that might require features to be enabled\n * * kPossibleColorRenderableTextureFormats\n * * kPossibleStorageTextureFormats\n * * kPossibleReadWriteStorageTextureFormats\n * * kPossibleMultisampledTextureFormats\n *\n * Lists of formats that end in -srgb\n * * kDifferentBaseFormatTextureFormats  (includes compressed textures)\n * * kDifferentBaseFormatRegularTextureFormats (does not include compressed textures)\n *\n * Formats that require a feature to use at all (mostly compressed formats)\n * * kOptionalTextureFormats\n *\n * Misc\n * * kRegularTextureFormats\n * * kSizedDepthStencilFormats\n * * kUnsizedDepthStencilFormats\n * * kCompressedTextureFormats\n * * kUncompressedTextureFormats\n * * kColorTextureFormats - color formats including compressed and sint/uint\n * * kEncodableTextureFormats - formats that TexelView supports.\n * * kSizedTextureFormats - formats that have a known size (so not depth24plus ...)\n * * kDepthStencilFormats - depth, stencil, depth-stencil\n * * kDepthTextureFormats - depth and depth-stencil\n * * kStencilTextureFormats - stencil and depth-stencil\n * * kAllTextureFormats\n *\n * If one of the list above does not work, add a new one or to filter in beforeAllSubcases you generally want to use\n * You will not know if you can actually use a texture for the given use case until the test runs and has a device.\n *\n * * isTextureFormatPossiblyUsableAsRenderAttachment\n * * isTextureFormatPossiblyUsableAsColorRenderAttachment\n * * isTextureFormatPossiblyMultisampled\n * * isTextureFormatPossiblyStorageReadable\n * * isTextureFormatPossiblyStorageReadWritable\n * * isTextureFormatPossiblyFilterableAsTextureF32\n *\n * These are also usable before or during a test\n *\n * * isColorTextureFormat\n * * isDepthTextureFormat\n * * isStencilTextureFormat\n * * isDepthOrStencilTextureFormat\n * * isEncodableTextureFormat\n * * isRegularTextureFormat\n * * isCompressedFloatTextureFormat\n * * isSintOrUintFormat\n *\n * To skip a test use the `skipIfXXX` tests in `GPUTest` if possible. Otherwise these functions\n * require a device to give a correct answer.\n *\n * * isTextureFormatUsableAsRenderAttachment\n * * isTextureFormatColorRenderable\n * * isTextureFormatResolvable\n * * isTextureFormatBlendable\n * * isTextureFormatMultisampled\n * * isTextureFormatUsableAsStorageFormat\n * * isTextureFormatUsableAsReadWriteStorageTexture\n * * isTextureFormatUsableAsStorageFormatInCreateShaderModule\n *\n * Per-GPUTextureFormat info.\n */\nexport const kTextureFormatInfo = {\n  ...kRegularTextureFormatInfo,\n  ...kSizedDepthStencilFormatInfo,\n  ...kUnsizedDepthStencilFormatInfo,\n  ...kBCTextureFormatInfo,\n  ...kETC2TextureFormatInfo,\n  ...kASTCTextureFormatInfo,\n};\n\n\n// CompressedTextureFormat are unrenderable so filter from RegularTextureFormats for color targets is enough\nexport const kRenderableColorTextureFormats = kRegularTextureFormats.filter(\n  v => kColorTextureFormatInfo[v].renderable\n);\n\n// The formats of GPUTextureFormat for canvas context.\nexport const kCanvasTextureFormats = ['bgra8unorm', 'rgba8unorm', 'rgba16float'];\n","import { kTextureFormatInfo } from './capabilities-info.js';\n\n/**\n * \n * @callback ComputeMemSizeFn\n * @param {any} arg\n * @returns {number} The size in bytes\n */\n\nconst webgpuMemoryIdSymbol = Symbol('webgpu-memory-object-id');\nconst deviceIdToDeviceWeakRef = new Map();\n\n/**\n * @typedef {Object} ObjectInfo\n * @property {WeakRef} ref to object\n * @property {number} id object's id (same as key)\n * @property {number} deviceId object's device\n * @property {string} category\n * @property {number|ComputeMemSizeFn} [size]\n */\n\nlet nextId = 1;\n/** @type {Map<number, ObjectInfo>} */\nconst allWebGPUObjectsById = new Map();\n\n/**\n * Start tracking a resource by device\n * @param {GPUDevice} device\n * @param {GPUObjectBase} webgpuObject\n * @param {string} category\n * @param {number|ComputeMemSizeFn} [size]\n */\nfunction addDeviceObject(device, webgpuObject, category, size) {\n  let id = webgpuObject[webgpuMemoryIdSymbol];\n  if (!id) {\n    id = nextId++;\n    webgpuObject[webgpuMemoryIdSymbol] = id;\n  }\n  const deviceId = device[webgpuMemoryIdSymbol];\n  const info = {\n    ref: new WeakRef(webgpuObject),\n    id,\n    deviceId,\n    category,\n    size,\n    // will contain \"oldSize\" if canvas\n  };\n  allWebGPUObjectsById.set(id, info);\n  if (typeof size === 'function') {\n    size = size(webgpuObject);\n    info.oldSize = size;\n  }\n  if (!isNaN(size)) {\n    updateDeviceRunningTotal(device, size);\n  }\n}\n\nfunction updateDeviceRunningTotal(device, size) {\n  const deviceId = device[webgpuMemoryIdSymbol];\n  const deviceInfo = allWebGPUObjectsById.get(deviceId);\n  deviceInfo.runningTotal = (deviceInfo.runningTotal ?? 0) + size;\n  deviceInfo.maxTotal = Math.max(deviceInfo.maxTotal ?? 0, deviceInfo.runningTotal);\n}\n\n/**\n * Start tracking a resource by device\n * @param {GPUDevice} device\n * @param {GPUTexture | GPUBuffer} webgpuObject\n * @param {string} category\n * @property {number|ComputeMemSizeFn} size\n */\nfunction addDeviceMem(device, webgpuObject, category, size) {\n  addDeviceObject(device, webgpuObject, category, size);\n}\n\n/**\n * @param {number} deviceId\n * @returns true if device still exists\n */\nfunction deviceExists(deviceId) {\n  const ref = deviceIdToDeviceWeakRef.get(deviceId);\n  return ref && !!ref.deref();\n}\n\n/**\n * Free an object's memory\n * @param {number} id\n */\nfunction freeObjectById(id, webgpuObject) {\n  const obj = allWebGPUObjectsById.get(id);\n  let size = obj?.size;\n  if (webgpuObject && typeof size === 'function') {\n    size = size(webgpuObject);\n  }\n  if (!isNaN(size)) {\n    const deviceInfo = allWebGPUObjectsById.get(obj.deviceId);\n    if (deviceInfo) {\n      deviceInfo.runningTotal = (deviceInfo.runningTotal ?? 0) - size;\n    }\n  }\n  allWebGPUObjectsById.delete(id);\n}\n\n/**\n * Free the memory used by object.\n * @param {GPUTexture | GPUBuffer} webgpuObject\n * @param {string} category\n */\nfunction freeObject(webgpuObject) {\n  const id = webgpuObject[webgpuMemoryIdSymbol];\n  freeObjectById(id, webgpuObject);\n}\n\n/**\n * @typedef {Object} WebGPUMemoryInfo\n * @property {Object.<string, number>} memory\n * @property {Object.<string, number>} resources\n */\n\n/**\n * Gets WebGPU memory usage. If no device is passed in returns info for all devices.\n *\n * @param {GPUDevice} [device] optional device.\n * @returns {WebGPUMemoryInfo}\n */\nexport function getWebGPUMemoryUsage(device) {\n  const memory = {\n    total: 0,\n    buffer: 0,\n    texture: 0,\n    querySet: 0,\n    canvas: 0,\n    maxTotal: 0,\n  };\n  const resources = {\n    buffer: 0,\n    texture: 0,\n    querySet: 0,\n  };\n  const info = { memory, resources };\n\n  const requestedDeviceId = device && device[webgpuMemoryIdSymbol];\n\n  const idsToDelete = [];\n  for (const [id, {ref, deviceId, category, size, maxTotal}] of allWebGPUObjectsById.entries()) {\n    const webgpuObject = ref.deref();\n    if (!webgpuObject || !deviceExists(deviceId)) {\n      idsToDelete.push(id);\n    } else {\n      if (!requestedDeviceId || deviceId === requestedDeviceId) {\n        resources[category] = (resources[category] || 0) + 1;\n        if (size) {\n          const numBytes = typeof size === 'function' ? size(webgpuObject) : size;\n          memory.total += numBytes;\n          memory[category] += numBytes;\n        }\n        if (category === 'device') {\n          memory.maxTotal += maxTotal;\n        }\n      }\n    }\n  }\n\n  idsToDelete.forEach(id => freeObjectById(id));\n\n  return info;\n}\n\nexport function resetMaxTotal(device) {\n  const devices = device ? [device] : [];\n  if (!device) {\n    for (const [id, {ref, category}] of allWebGPUObjectsById.entries()) {\n      if (category === 'device') {\n        const webgpuObject = ref.deref();\n        devices.push(webgpuObject);\n      }\n    }\n  }\n\n  for (const device of devices) {\n    const info = getWebGPUMemoryUsage(device);\n    const deviceId = device[webgpuMemoryIdSymbol];\n    const deviceInfo = allWebGPUObjectsById.get(deviceId);\n    if (deviceInfo) {\n      deviceInfo.maxTotal = info.memory.total;\n    }\n  }\n}\n\n/**\n *\n * @param {GPUTexture} texture\n * @returns {number} approximate number of bytes used by texture.\n */\nfunction computeTextureMemorySize(texture) {\n  const {\n    blockWidth,\n    blockHeight,\n    bytesPerBlock,\n  } = kTextureFormatInfo[texture.format];\n\n  let size = 0;\n  let width = texture.width;\n  let height = texture.height;\n  let depth = texture.depthOrArrayLayers;\n\n  for (let level = 0; level < texture.mipLevelCount; ++level) {\n    const blocksAcross = Math.ceil(width * texture.sampleCount / blockWidth);\n    const blocksDown = Math.ceil(height * texture.sampleCount / blockHeight);\n    const numBlocks = blocksAcross * blocksDown * depth;\n    const bytesUsed = numBlocks * bytesPerBlock;\n    size += bytesUsed;\n    width = Math.max(1, width / 2 | 0);\n    height = Math.max(1, height / 2 | 0);\n    depth = texture.dimension === '3d' ? Math.max(1, depth / 2 | 0) : depth;\n  }\n\n  return size;\n}\n\n/**\n * @param {object} object with method to wrap\n * @param {string} name Name of method to wrap\n * @param {} fn\n */\nfunction wrapFunction(object, name, fn) {\n  const origFn = object.prototype[name];\n  object.prototype[name] = function(...args) {\n    const result = origFn.call(this, ...args);\n    if (result !== undefined && typeof result.then === 'function') {\n      result.then(realResult => fn(this, realResult, ...args));\n    } else {\n      fn(this, result, ...args);\n    }\n    return result;\n  };\n}\n\n/**\n *\n * @param {GPUDevice} device\n * @param {GPUBuffer} buffer\n */\nfunction addBuffer(device, buffer) {\n  const bytesUsed = buffer.size;\n  addDeviceMem(device, buffer, 'buffer', bytesUsed);\n}\n\n/**\n *\n * @param {GPUBuffer} buffer\n */\nfunction removeBuffer(buffer) {\n  freeObject(buffer);\n}\n\n/**\n *\n * @param {GPUDevice} device\n * @param {GPUTexture} texture\n */\nfunction addTexture(device, texture) {\n  const bytesUsed = computeTextureMemorySize(texture);\n  addDeviceMem(device, texture, 'texture', bytesUsed);\n}\n\n/**\n *\n * @param {GPUTexture} texture\n */\nfunction removeTexture(texture) {\n  freeObject(texture);\n}\n\n/**\n * @param {GPUDevice} device\n * @param {GPUQuerySet} querySet\n */\nfunction addQuerySet(device, querySet) {\n  const bytesUsed = querySet.count * 8;\n  addDeviceMem(device, querySet, 'querySet', bytesUsed);\n}\n\n/**\n * @param {GPUQuerySet} querySet\n */\nfunction removeQuerySet(querySet) {\n  freeObject(querySet);\n}\n\nfunction addDevice(adapter, device) {\n  addDeviceMem(device, device, 'device', 0);\n  const id = device[webgpuMemoryIdSymbol];\n  deviceIdToDeviceWeakRef.set(id, new WeakRef(device));\n}\n\nfunction removeDevice(device) {\n  const id = device[webgpuMemoryIdSymbol];\n  deviceIdToDeviceWeakRef.delete(id);\n  freeObject(device);\n}\n\n// assuming there are, in general, 2 textures per canvas.\n// The one being displayed and the one being rendered to\nconst kTexturesPerCanvas = 2;\n\nfunction computeCanvasBytesUsed(context, format) {\n  const {width, height} = context.canvas;\n  return computeTextureMemorySize({\n    format,\n    width,\n    height,\n    depthOrArrayLayers: 1,\n    sampleCount: 1,\n    mipLevelCount: 1,\n    dimension: '2d',\n  }) * kTexturesPerCanvas;\n}\n\nfunction addContext(context, dummy, config) {\n  freeObject(context);\n  const format = config.format;\n  addDeviceMem(config.device, context, 'canvas', (context) => computeCanvasBytesUsed(context, format))\n}\n\nfunction removeContext(context) {\n  freeObject(context);\n}\n\nfunction resizeContext(context) {\n  const id = context[webgpuMemoryIdSymbol];\n  const info = allWebGPUObjectsById.get(id);\n  const deviceInfo = allWebGPUObjectsById.get(info.deviceId);\n  deviceInfo.runningTotal -= info.oldSize;\n  const size = info.size(context);\n  deviceInfo.runningTotal += size;\n  info.oldSize = size;\n  deviceInfo.maxTotal = Math.max(deviceInfo.maxTotal, deviceInfo.runningTotal);\n}\n\nfunction wrapCreationDestroy(factoryClass, objectClass, fnName, category) {\n  wrapFunction(factoryClass, fnName, function(device, object) {\n    addDeviceObject(device, object, category);\n  });\n  if (objectClass.prototype.destroy) {\n    wrapFunction(objectClass, 'destroy', function(object) {\n      freeObject(object);\n    });\n  }\n}\n/* TODO: remove these! */\n/* global GPUAdapter */\n/* global GPUBuffer */\n/* global GPUDevice */\n/* global GPUTexture */\n/* global GPUSampler */\n/* global GPUBindGroup */\n/* global GPUBindGroupLayout */\n/* global GPUPipelineLayout */\n/* global GPUShaderModule */\n/* global GPUComputePipeline */\n/* global GPURenderPipeline */\n/* global GPUComputePipeline */\n/* global GPURenderPipeline */\n///* global GPUCommandEncoder */\n///* global GPURenderBundleEncoder */\n/* global GPUQuerySet */\n\nif (typeof GPUAdapter !== 'undefined') {\n  wrapFunction(GPUAdapter, 'requestDevice', addDevice);\n  wrapFunction(GPUDevice, 'destroy', removeDevice);\n\n  wrapFunction(GPUCanvasContext, 'configure', addContext);\n  wrapFunction(GPUCanvasContext, 'unconfigure', removeContext);\n  wrapFunction(GPUCanvasContext, 'getCurrentTexture', resizeContext)\n\n  wrapFunction(GPUDevice, 'createBuffer', addBuffer);\n  wrapFunction(GPUBuffer, 'destroy', removeBuffer);\n  wrapFunction(GPUDevice, 'createTexture', addTexture);\n  wrapFunction(GPUTexture, 'destroy', removeTexture);\n  wrapFunction(GPUDevice, 'createQuerySet', addQuerySet);\n  wrapFunction(GPUQuerySet, 'destroy', removeQuerySet);\n\n  wrapCreationDestroy(GPUDevice, GPUSampler, 'createSampler', 'sampler');\n  wrapCreationDestroy(GPUDevice, GPUBindGroup, 'createBindGroup', 'bindGroup');\n  wrapCreationDestroy(GPUDevice, GPUBindGroupLayout, 'createBindGroupLayout', 'bindGroupLayout');\n  wrapCreationDestroy(GPUDevice, GPUPipelineLayout, 'createPipelineLayout', 'pipelineLayout');\n  wrapCreationDestroy(GPUDevice, GPUShaderModule, 'createShaderModule', 'shaderModule');\n  wrapCreationDestroy(GPUDevice, GPUComputePipeline, 'createComputePipeline', 'computePipeline');\n  wrapCreationDestroy(GPUDevice, GPURenderPipeline, 'createRenderPipeline', 'renderPipeline');\n  wrapCreationDestroy(GPUDevice, GPUComputePipeline, 'createComputePipelineAsync', 'computePipeline');\n  wrapCreationDestroy(GPUDevice, GPURenderPipeline, 'createRenderPipelineAsync', 'renderPipeline');\n  //wrapCreationDestroy(GPUDevice, GPUCommandEncoder, 'createCommandEncoder', 'commandEncoder');\n  //wrapCreationDestroy(GPUDevice, GPURenderBundleEncoder, 'createRenderBundleEncoder', 'renderBundleEncoder');\n  // problem, no device for this\n  // GPURenderBundleEncoder, 'finish'\n}\n"],"names":["keysOf","o","Object","keys","kFormatUniversalDefaults","blockWidth","undefined","blockHeight","color","depth","stencil","colorRender","multisample","feature","baseFormat","bytesPerBlock","formatTableWithDefaults","defaults","table","fromEntries","entries","map","k","row","kRegularTextureFormatInfo","r8unorm","type","copySrc","copyDst","storage","readWriteStorage","bytes","blend","resolve","byteCost","alignment","this","r8snorm","r8uint","r8sint","rg8unorm","rg8snorm","rg8uint","rg8sint","rgba8unorm","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","r16uint","r16sint","r16float","rg16uint","rg16sint","rg16float","rgba16uint","rgba16sint","rgba16float","r32uint","r32sint","r32float","rg32uint","rg32sint","rg32float","rgba32uint","rgba32sint","rgba32float","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rgb9e5ufloat","kSizedDepthStencilFormatInfo","stencil8","depth16unorm","depth32float","kUnsizedDepthStencilFormatInfo","depth24plus","kBCTextureFormatInfo","kETC2TextureFormatInfo","kASTCTextureFormatInfo","kCompressedTextureFormatInfo","kColorTextureFormatInfo","kEncodableTextureFormatInfo","kSizedTextureFormatInfo","kDepthStencilFormatInfo","kUncompressedTextureFormatInfo","kAllTextureFormatInfo","kRegularTextureFormats","kTextureFormatInfo","filter","v","renderable","webgpuMemoryIdSymbol","Symbol","deviceIdToDeviceWeakRef","Map","nextId","allWebGPUObjectsById","addDeviceObject","device","webgpuObject","category","size","id","deviceId","info","ref","WeakRef","set","oldSize","isNaN","deviceInfo","get","runningTotal","maxTotal","Math","max","updateDeviceRunningTotal","addDeviceMem","deviceExists","deref","freeObjectById","obj","delete","freeObject","getWebGPUMemoryUsage","memory","total","buffer","texture","querySet","canvas","resources","requestedDeviceId","idsToDelete","numBytes","push","forEach","computeTextureMemorySize","format","width","height","depthOrArrayLayers","level","mipLevelCount","ceil","sampleCount","dimension","wrapFunction","object","name","fn","origFn","prototype","args","result","call","then","realResult","kTexturesPerCanvas","wrapCreationDestroy","factoryClass","objectClass","fnName","destroy","GPUAdapter","adapter","GPUDevice","GPUCanvasContext","context","dummy","config","computeCanvasBytesUsed","GPUBuffer","GPUTexture","count","GPUQuerySet","GPUSampler","GPUBindGroup","GPUBindGroupLayout","GPUPipelineLayout","GPUShaderModule","GPUComputePipeline","GPURenderPipeline","devices"],"mappings":"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"}